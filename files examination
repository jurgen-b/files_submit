__winc_id__ = 'ae539110d03e49ea8738fd413ac44ba8'
__human_name__ = 'files'

__winc_id__ = 'ae539110d03e49ea8738fd413ac44ba8'
__human_name__ = 'files'

import os.path
import zipfile

current_dict = os.path.abspath('files')
cache_path = current_dict + '\\cache'
zip_path = current_dict + '\\data.zip'


#opdracht 1
def clean_cache():
    try:
        os.mkdir(current_dict+'\\cache')
        return "cache created"
    except FileExistsError:
        try:
            os.remove(current_dict+'\\cache')
            return "cache removed"
        except PermissionError:
            return "no permisson"

f=clean_cache()
print(f)

#opdracht 2 
def cache_zip(cache_path,zip_path):
    with zipfile.ZipFile(zip_path, 'r') as zip_ref:
        zip_ref.extractall(cache_path)
        return("zip unpacked")

open_zip = cache_zip(cache_path,zip_path)
print(open_zip)

#opdracht 3
def cache_files():
    my_list = []
    list_files = os.listdir('\\cache')
    for num in list_files:
        my_list.append(os.path.join('\\cache',num))
    return my_list

m_list = cache_files()


#opdracht 4
def find_password(m_list):
        for line in m_list:
            with open(line) as filee:
                for lines in filee:
                    for word in line.split():
                        if "password" in lines:
                            password = lines[lines.find(" ") + 1 :]
                            return password

password = find_password(m_list)
print(password)
